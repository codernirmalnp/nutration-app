(this["webpackJsonpfood-client"]=this["webpackJsonpfood-client"]||[]).push([[3],{77:function(e,a,t){"use strict";t.r(a);var r=t(5),n=t.n(r),c=t(9),l=t(21),s=t(24),m=t(11),o=t(0),p=t.n(o),d=t(20),i=t.n(d),b=t(15),u=t(1),g=t(18),x=t(10),f=t(2);a.default=function(){var e=Object(x.b)(),a=Object(u.g)(),t=Object(o.useState)(),r=Object(m.a)(t,2),d=r[0],y=r[1],h=Object(o.useState)({fat:"",protein:"",carbohydrate:"",itemName:""}),k=Object(m.a)(h,2),w=k[0],v=k[1],E=Object(o.useState)([]),N=Object(m.a)(E,2),j=N[0],O=N[1],C=Object(o.useState)(),S=Object(m.a)(C,2),I=S[0],F=S[1],L=function(e){v(Object(s.a)(Object(s.a)({},w),{},Object(l.a)({},e.target.name,e.target.value)))};function U(){return(U=Object(c.a)(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/logout");case 2:t=e.sent,r=t.data,F(r.message),localStorage.removeItem("userInfo"),i.a.remove("expiresAt"),setTimeout((function(){a.push("/")}),2e3);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"flex justify-around"},p.a.createElement("a",{onClick:function(){return U.apply(this,arguments)},href:"/#",className:"border-b border-green-700 mx-50 cursor-pointer"},"Logout"),p.a.createElement(g.b,{to:"/item",className:"text-blue-600"},"Item")),p.a.createElement("span",{className:"text-green-500 text-bold"},I),p.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t,r=new FormData;r.append("image",j);for(var l=0,s=Object.entries(w);l<s.length;l++){var o=Object(m.a)(s[l],2),p=o[0],d=o[1];r.append([p],d)}e((t=r,function(){var e=Object(c.a)(n.a.mark((function e(a){var r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:f.b,payload:t}),e.prev=1,e.next=4,b.a.post("/item",t);case 4:r=e.sent,c=r.data,a({type:f.c,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:f.a,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}())),v(""),O("")},encType:"multipart/form-data"},p.a.createElement("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2"},p.a.createElement("div",{className:"-mx-3 md:flex mb-6"},p.a.createElement("div",{className:"md:w-1/2 px-3 mb-6 md:mb-0"},p.a.createElement("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"},"Item Name"),p.a.createElement("input",{className:"appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3",id:"grid-first-name",type:"text",name:"itemName",step:"0.01",onChange:L,placeholder:"Banana"})),p.a.createElement("div",{className:"md:w-1/2 px-3"},p.a.createElement("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"},"Fat"),p.a.createElement("input",{className:"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4",id:"grid-last-name",type:"number",step:"0.01",name:"fat",onChange:L,placeholder:"20g"}))),p.a.createElement("div",{className:"-mx-3 md:flex mb-6"},p.a.createElement("div",{className:"md:w-full px-3"},p.a.createElement("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"},"Protein"),p.a.createElement("input",{className:"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3",id:"grid-password",type:"number",step:"0.01",placeholder:"10g",onChange:L,name:"protein"}))),p.a.createElement("div",{className:"md:w-1/2 px-3"},p.a.createElement("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"},"Carbohydrate"),p.a.createElement("input",{className:"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4",id:"grid-zip",type:"number",name:"carbohydrate",step:"0.01",placeholder:"50g",onChange:L})),p.a.createElement("div",{className:"md:w-1/2 px-3 mt-4"},p.a.createElement("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2"},"Image Upload",p.a.createElement("img",{src:d,alt:"preview",className:"h-10 w-10 mb-2"})),p.a.createElement("input",{type:"file",name:"image-upload",id:"input",accept:"image/*",onChange:function(e){y(URL.createObjectURL(e.target.files[0])),O(e.target.files[0])}})),p.a.createElement("button",{type:"submit",className:"bg-red-700 mt-5 p-2 text-white"},"Add"))))}}}]);
//# sourceMappingURL=3.670ba7dd.chunk.js.map