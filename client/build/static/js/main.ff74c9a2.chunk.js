(this["webpackJsonpfood-client"]=this["webpackJsonpfood-client"]||[]).push([[0],{15:function(e,t,a){"use strict";var n=a(43),r=a.n(n).a.create({baseURL:"/api"});r.interceptors.response.use((function(e){return e}),(function(e){return 401===e.response.status&&window.location("/"),Promise.reject(e)})),t.a=r},2:function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"i",(function(){return r})),a.d(t,"g",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return u})),a.d(t,"k",(function(){return s})),a.d(t,"l",(function(){return i})),a.d(t,"j",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return f}));var n="ITEM_LIST_REQUEST",r="ITEM_LIST_SUCCESS",c="ITEM_LIST_FAIl",o="DETAIL_ITEM_REQUEST",l="DETAIL_ITEM_SUCCESS",u="DETAIL_ITEM_FAIL",s="REMOVE_ITEM_REQUEST",i="REMOVE_ITEM_SUCCESS",d="REMOVE_ITEM_FAIL",m="ADD_ITEM_REQUEST",p="ADD_ITEM_SUCCESS",f="ADD_ITEM_FAIL"},28:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return s}));var n=a(5),r=a.n(n),c=a(9),o=a(15),l=a(2),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(c.a)(r.a.mark((function a(n){var c,u;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:l.h}),a.prev=1,a.next=4,o.a.get("/item?page="+e+"&search="+t);case 4:c=a.sent,u=c.data,console.log(u),n({type:l.i,payload:u}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:l.g,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()},s=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:l.k}),t.prev=1,t.next=4,o.a.delete("/item/"+e);case 4:n=t.sent,c=n.data,a({type:l.l,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:l.j,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},40:function(e,t,a){"use strict";var n=a(45),r=a(0),c=a.n(r);t.a=function(e){var t=e.totalPage,a=e.nextPage,r=e.previousPage,o=(e.currentPage,e.getPage);function l(e){e.preventDefault(),o(e.target.value)}return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"flex  flex-col-2 gap-4 justify-center m-2"},r&&c.a.createElement("li",{className:" bg-black w-20 text-center text-white text-md  p-2 cursor-pointer",value:r.page,onClick:l},"Previous "),Object(n.a)(Array(t).keys()).map((function(e){return c.a.createElement("li",{className:" bg-black w-20 text-center text-white text-md  p-2 cursor-pointer",key:e+1,value:e+1,onClick:l},e+1)})),a&&c.a.createElement("li",{className:" bg-black w-20 text-center text-white text-md  p-2 cursor-pointer",value:a.page,onClick:l},"Next")))}},46:function(e,t,a){e.exports=a(76)},56:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a(19),l=a.n(o),u=(a(56),a(1)),s=a(18),i=a(20),d=a.n(i),m=a(5),p=a.n(m),f=a(9),g=a(11),E=a(28),b=function(e){var t=e.item;return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden shadow-lg"},r.a.createElement(s.b,{to:"product/".concat(t._id)},r.a.createElement("img",{src:"https://codernirmalapi.herokuapp.com/uploads/".concat(t.image),alt:"",className:"w-300 h-300 overflow-hidden"})),r.a.createElement("div",{className:"px-6 py-4"},r.a.createElement("div",{className:"font-bold text-purple-500 text-xl mb-2"},t.itemName),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("strong",null,"Fat: "),t.fat),r.a.createElement("li",null,r.a.createElement("strong",null,"Carbohydrate: "),t.carbohydrate),r.a.createElement("li",null,r.a.createElement("strong",null,"Protein: "),t.protein))))},h=a(40),v=function(e){var t=e.searchText,a=Object(n.useState)(""),c=Object(g.a)(a,2),o=c[0],l=c[1];return r.a.createElement("div",{className:"max-w-sm rounded overflow-hidden my-10 mx-auto"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(o)},className:"w-full max-w-sm"},r.a.createElement("div",{className:"flex items-center border-b border-b-2 border-teal-500 py-2"},r.a.createElement("input",{onChange:function(e){return l(e.target.value)},className:"appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none",type:"text",placeholder:"Search Food Item..."}),r.a.createElement("button",{className:"flex-shrink-0 bg-teal-500 hover:bg-teal-700 border-teal-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded",type:"submit"},"Search"))))},x=function(){var e=Object(c.c)((function(e){return e.Diet})),t=Object(n.useState)(),a=Object(g.a)(t,2),o=a[0],l=a[1],u=e.food,s=Object(n.useState)(),i=Object(g.a)(s,2),d=i[0],m=i[1],x=Object(c.b)();Object(n.useEffect)((function(){(function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(Object(E.a)(o,d));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[x,o,d]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{searchText:function(e){return m(e)}}),r.a.createElement("div",{className:"container mx-auto md:grid md:grid-col-1 md:grid-cols-3"},u?u.data.map((function(e,t){return r.a.createElement(b,{item:e,index:t,key:t})})):r.a.createElement("h3",null,"Loading...")),u&&r.a.createElement(h.a,{previousPage:u.previous,nextPage:u.next,totalPage:u.totalPage,currentPage:u.currentPage,getPage:function(e){l(e)}}))},y=a(21),w=a(24),O=a(15);function S(e){var t=Object(c.c)((function(e){return e.Login})),a=t.user,o=t.error,l=a?a.message:null;Object(n.useEffect)((function(){return a&&setTimeout((function(){e.history.push("/dashboard")}),2e3),function(){}}),[a,e.history]);var u=Object(n.useState)({email:"",password:""}),s=Object(g.a)(u,2),i=s[0],m=s[1],E=Object(c.b)(),b=function(e){m(Object(w.a)(Object(w.a)({},i),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"container  mx-auto flex flex-col items-center my-10"},o&&r.a.createElement("span",{className:"text-red-700 font-bold"},o),l&&r.a.createElement("span",{className:"text-green-700 font-bold"},l),r.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),E((t=i,function(){var e=Object(f.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"LOGIN_REQUEST",payload:t}),e.prev=1,e.next=4,O.a.post("/authenticate",t);case 4:n=e.sent,r=n.data,a({type:"LOGIN_SUCCESS",payload:r}),localStorage.setItem("userInfo",JSON.stringify(r.userInfo)),d.a.set("expiresAt",r.expiresAt,{sameSite:!0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a({type:"LOGIN_FAIL",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))},className:"shadow-lg w-2/3 md:w-1/3 p-4 flex flex-col bg-white rounded-lg"},r.a.createElement("input",{type:"text",name:"email",placeholder:"Email",className:"mb-3 py-3 px-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-cyan-500",onChange:b}),r.a.createElement("input",{type:"password",name:"password",placeholder:"Pasword",className:"mb-3 py-3 px-4 border border-gray-400 focus:outline-none rounded-md focus:ring-1 ring-cyan-500",onChange:b}),r.a.createElement("button",{type:"submit",className:"w-full bg-blue-500 text-white p-3 rounded-lg font-semibold text-lg"},"Login"),r.a.createElement("hr",null)))}var _=Object(n.lazy)((function(){return a.e(3).then(a.bind(null,77))})),I=Object(n.lazy)((function(){return a.e(4).then(a.bind(null,78))}));var N=function(){var e=function(){return r.a.createElement("div",{className:"p-4"},"Loading...")},t=function(e){var t=e.children;return r.a.createElement(u.b,{render:function(){return function(){var e=d.a.get("expiresAt");return(new Date).getTime()/1e3<e}()?r.a.createElement("div",null," ",t):r.a.createElement(u.a,{to:"/"})}})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.b,{path:"/",component:x,exact:!0}),r.a.createElement(u.b,{path:"/login",component:S}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(e,null)},r.a.createElement(u.d,null,r.a.createElement(t,{path:"/dashboard"},r.a.createElement(_,null)),r.a.createElement(t,{path:"/item"},r.a.createElement(I,null))))))},j=a(2),T=a(12),L=a(44),k=Object(T.c)({Login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:"",error:"",loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return{loading:!0};case"LOGIN_SUCCESS":return{loading:!1,user:t.payload};case"LOGIN_FAIL":return{loading:!1,error:t.payload};default:return e}},Diet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{food:"",error:"",loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.h:return{loading:!0};case j.i:return{loading:!1,food:t.payload};case j.g:return{loading:!1,error:t.payload};default:return e}},item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],error:"",message:"",loading:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j.b:return{loading:!0};case j.c:case j.a:return{loading:!1,data:t.payload};default:return e}}}),C=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||T.d,D=Object(T.e)(k,{},C(Object(T.a)(L.a)));l.a.render(r.a.createElement(c.a,{store:D},r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null))),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ff74c9a2.chunk.js.map