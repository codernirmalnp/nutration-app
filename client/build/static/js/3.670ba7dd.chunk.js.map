{"version":3,"sources":["components/Dashboard.js","actions/item.js"],"names":["Dashboard","dispatch","useDispatch","history","useHistory","useState","preview","setPreview","fat","protein","carbohydrate","itemName","item","setItem","image","setImage","message","setMessage","changeHandler","e","target","name","value","a","api","post","data","localStorage","removeItem","Cookies","remove","setTimeout","push","className","onClick","href","to","onSubmit","preventDefault","payload","FormData","append","Object","entries","key","type","ADD_ITEM_REQUEST","ADD_ITEM_SUCCESS","ADD_ITEM_FAIL","response","encType","id","step","onChange","placeholder","src","alt","accept","URL","createObjectURL","files"],"mappings":"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","file":"static/js/3.670ba7dd.chunk.js","sourcesContent":["import React,{useState} from 'react'\r\nimport Cookies from 'js-cookie';\r\nimport api from '../api'\r\nimport {useHistory,Link} from 'react-router-dom'\r\nimport {useDispatch} from 'react-redux'\r\nimport {addItem} from '../actions/item'\r\n\r\n\r\nfunction Dashboard(){\r\n  const dispatch=useDispatch();\r\n  const history=useHistory();\r\n  const [preview,setPreview]=useState()\r\n  const [item,setItem]=useState({fat:'',protein:'',carbohydrate:'',itemName:''})\r\n  const [image,setImage]=useState([])\r\n  const [message,setMessage]=useState();\r\n \r\n  const ImageHandler=(e)=>{\r\n \r\n   \r\n\r\n    setPreview( URL.createObjectURL(e.target.files[0]))\r\n    setImage(e.target.files[0])\r\n\r\n  }\r\n  const changeHandler=(e)=>{\r\n    setItem({...item,[e.target.name]:e.target.value})\r\n\r\n  }\r\n  \r\n  async function logout(){\r\n    \r\n    const {data}=await api.post('/logout')\r\n    setMessage(data.message)\r\n    localStorage.removeItem(\"userInfo\")\r\n    Cookies.remove(\"expiresAt\")\r\n    setTimeout(()=>{\r\n      history.push('/')\r\n\r\n    },2000);  \r\n\r\n  }\r\n\r\n  const onFormSubmit=(e)=>{\r\n    e.preventDefault();\r\n \r\n \r\n      const data = new FormData();\r\n      data.append(\"image\", image);\r\n      for (const [key,value] of Object.entries(item))\r\n      {\r\n        data.append([key],value)\r\n      }\r\n\r\n    dispatch(addItem(data))\r\n    setItem('')\r\n    setImage('')\r\n   \r\n    \r\n  }\r\n  \r\n    return (\r\n       <>\r\n      <div className=\"flex justify-around\">\r\n      <a onClick={logout} href=\"/#\" className=\"border-b border-green-700 mx-50 cursor-pointer\">Logout</a>\r\n      <Link to='/item' className=\"text-blue-600\">Item</Link>\r\n     \r\n      </div>\r\n      <span className=\"text-green-500 text-bold\">{message}</span>\r\n      <form onSubmit={onFormSubmit} encType=\"multipart/form-data\">\r\n  <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 flex flex-col my-2\">\r\n  <div className=\"-mx-3 md:flex mb-6\">\r\n    <div className=\"md:w-1/2 px-3 mb-6 md:mb-0\">\r\n      <label className=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" >\r\n        Item Name\r\n      </label>\r\n      <input className=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3\" id=\"grid-first-name\" type=\"text\" name=\"itemName\" step=\"0.01\" onChange={changeHandler} placeholder=\"Banana\"/>\r\n    </div>\r\n    <div className=\"md:w-1/2 px-3\">\r\n      <label className=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" >\r\n        Fat\r\n      </label>\r\n      <input className=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\" id=\"grid-last-name\" type=\"number\" step=\"0.01\" name=\"fat\" onChange={changeHandler} placeholder=\"20g\"/>\r\n    </div>\r\n  </div>\r\n  <div className=\"-mx-3 md:flex mb-6\">\r\n    <div className=\"md:w-full px-3\">\r\n      <label className=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" >\r\n        Protein\r\n      </label>\r\n      <input className=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4 mb-3\" id=\"grid-password\" type=\"number\" step=\"0.01\" placeholder=\"10g\" onChange={changeHandler} name=\"protein\"/>\r\n     \r\n    </div>\r\n  </div>\r\n\r\n    <div className=\"md:w-1/2 px-3\">\r\n      <label className=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" >\r\n        Carbohydrate\r\n      </label>\r\n      <input className=\"appearance-none block w-full bg-grey-lighter text-grey-darker border border-grey-lighter rounded py-3 px-4\" id=\"grid-zip\" type=\"number\" name=\"carbohydrate\" step=\"0.01\" placeholder=\"50g\" onChange={changeHandler}/>\r\n    </div>\r\n   \r\n   \r\n    <div className=\"md:w-1/2 px-3 mt-4\">\r\n      <label className=\"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2\" >\r\n        Image Upload\r\n        <img src={preview}  alt=\"preview\" className=\"h-10 w-10 mb-2\"/>\r\n      \r\n      </label>\r\n      <input type=\"file\" name=\"image-upload\" id=\"input\" accept=\"image/*\" onChange={ImageHandler}/>\r\n    </div>\r\n    <button type=\"submit\" className=\"bg-red-700 mt-5 p-2 text-white\">Add</button>\r\n\r\n  </div>\r\n  \r\n  </form>\r\n\r\n\r\n    </>\r\n     \r\n    )\r\n\r\n}\r\nexport default Dashboard;","\r\nimport {ADD_ITEM_REQUEST,ADD_ITEM_SUCCESS,ADD_ITEM_FAIL} from '../constants/diet'\r\nimport api from '../api'\r\nexport const addItem=(payload)=>async(dispatch)=>{\r\n\r\n    dispatch({type:ADD_ITEM_REQUEST,payload:payload})\r\n    try{\r\n        const {data}=await api.post('/item',payload)\r\n        dispatch({type:ADD_ITEM_SUCCESS,payload:data})\r\n        \r\n    }\r\n    catch(e)\r\n    {\r\n        dispatch({type:ADD_ITEM_FAIL,payload:e.response && e.response.data.message ? e.response.data.message:e.message})\r\n    }\r\n    \r\n\r\n}"],"sourceRoot":""}